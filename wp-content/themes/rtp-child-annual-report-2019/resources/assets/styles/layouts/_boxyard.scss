$brand-primary: #DB342A;

.boxes {
  position: relative;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  width: 100%;
  max-width: 550px;
  margin: 90px 2rem;
  z-index: 10;

  .box {
    position: relative;
    display: block;
    background-color: $brand-primary;
    width: 33.3333333%;
    height: 0;
    margin: -1px;
    padding-bottom: 32.75%;
    transition: background-color 0.75s ease-in-out;

    img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: contain;
      padding: 2rem;
    }

    &:focus {
      outline: 0; // logo images will highlight as a focus state
    }
  }
}

@for $i from 1 to 9 {
  .box-#{$i} img {
    transition-delay: random() + 0.25s;
  }
}

.box-3,
.box-5,
.box-7 {
  opacity: 0 !important;
}

.map {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: $brand-primary;
  filter: grayscale(1);
  mix-blend-mode: multiply;
}

#boxyard {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  transition: background-color 0.75s ease;
  will-change: background-color;

  .boxes {
    transform: scale(0.15);
    transition: transform 1.5s ease;
    will-change: transform;
  }

  &.showtime {
    background-color: $brand-primary;
  }

  &.showtime .boxes {
    transform: scale(1);
  }

  &.showtime .box {
    background-color: white;
    filter: grayscale(1);
    transition: filter 0.3s ease-in-out;

    &:hover,
    &:focus {
      filter: grayscale(0);
    }
  }

  &.showtime .box img {
    opacity: 1;
  }
}

.box img {
  opacity: 0;
  transition-property: opacity;
  transition-duration: 0.3s;
  transition-timing-function: ease;
}

// Cant figure out how to get rid of BB shortcode paragraph...
#boxyard + p {
  display: none;
}
